<html xmlns="http://www.w3.org/1999/html">
<head>

	<link rel= "stylesheet" type="text/css" href="/static/css/bootstrap.css" >
    <div style="text-align: center;"><h1>Green Horizon</h1></div>
    <div style="text-align: center;"><h2>Welcome to our home page</h2></div>

</head>

<style>

body{
    background: #1c7430;
}


div.object {
    text-align: center;
    color: white;
}

div.post {
    text-align: left;
    color: black;
    padding-left: 5em;
}


div.map {
    text-align: center;
    align-content: center;
    padding-left: 20em;
}

div.col-lg-5 {
    text-align: center;
}
</style>

<body>
{% load static %}

<div style="text-align: center;"><img class="myImg" src="{% static 'images/a4.JPG' %}" width ="100" height= "100"></div>
<br>
<br>
<form method="post" action="/search/" style="margin:auto;max-width:100%">
    {% csrf_token %}


{#        <div class="form-group">#}
{#            <div class="col-lg-5">#}
{#                <input type="text" name="srh" class="form-control" placeholder="Enter search">#}
{#            </div>#}
{#            <label class="col-lg-2">#}
{#                <button type="submit" class="btn btn-danger">Search</button>#}
{#            </label>#}
{#        </div>#}
    <div class="container">
      <div class="row searchFilter" >
         <div class="col-sm-12" >
          <div class="input-group" >
           <input id="table_filter" type="text"  name="srh" class="form-control" aria-label="Text input with segmented button dropdown" placeholder="Enter search">
           <div class="input-group-btn" >
            <button type="button" class="btn btn-secondary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ><span class="label-icon" >Category</span> <span class="caret" >&nbsp;</span></button>
            <div class="dropdown-menu dropdown-menu-right" >
               <ul class="category_filters" >
                <li >
                 <input class="cat_type category-input" data-label="All" id="all" value="" name="radios" type="radio" ><label for="all" >All</label>
                </li>
                <li >
                 <input type="radio" name="radios" id="Environmental Hazards" value="Environmental Hazards" ><label class="category-label" for="Environmental Hazards" >Environmental Hazards</label>
                </li>
                <li >
                 <input type="radio" name="radios" id="Trash mismanaged" value="Trash mismanaged" ><label class="category-label" for="Trash mismanaged" >Trash mismanaged</label>
               </ul>
            </div>
            <button id="searchBtn" type="submit" class="btn btn-danger" ><span class="glyphicon glyphicon-search" >&nbsp;</span> <span class="label-icon" >Search</span></button>
           </div>
          </div>
         </div>
      </div>
    </div>


</form><br><br>

<div class="object">
    {% if obj %}
        {% for k in obj %}
            <h1><a href="{% url 'blog_detail' slug=k.slug %}">{{k.title}}</a></h1><br>
            {{ k.description }}<br>
            {{ k.city }}<br>
            {{ k.state }}<br>
            {{ k.zipcode }}<br>
            {{ k.published_date }}<br>
            <img src="{{ k.image.url_125x125 }}" /><br>

            <br><br><br>
        {% endfor %}
    {% endif %}
</div>

<!-- for detail view page -->
  <div class="post">

          {% block content %}
          {% endblock %}

  </div>


<!-- for map section  need to provide the map API-->
<div class="map">
  <script src="http://maps.google.com/maps/api/js?sensor=false" 
          type="text/javascript"></script>

  <div id="map" style="width: 500px; height: 400px;"></div>

  <script type="text/javascript">
    var locations = [
      ['Bondi Beach', -33.890542, 151.274856, 4],
      ['Coogee Beach', -33.923036, 151.259052, 5],
      ['Cronulla Beach', -34.028249, 151.157507, 3],
      ['Manly Beach', -33.80010128657071, 151.28747820854187, 2],
      ['Maroubra Beach', -33.950198, 151.259302, 1]
    ];

    var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 10,
      center: new google.maps.LatLng(-33.92, 151.25),
      mapTypeId: google.maps.MapTypeId.ROADMAP
    });

    var infowindow = new google.maps.InfoWindow();

    var marker, i;

    for (i = 0; i < locations.length; i++) {  
      marker = new google.maps.Marker({
        position: new google.maps.LatLng(locations[i][1], locations[i][2]),
        map: map
      });

      google.maps.event.addListener(marker, 'click', (function(marker, i) {
        return function() {
          infowindow.setContent(locations[i][0]);
          infowindow.open(map, marker);
        }
      })(marker, i));
    }
  </script>
</div>

</body>
</html>
